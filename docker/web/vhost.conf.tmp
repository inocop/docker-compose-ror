NameVirtualHost *:80
<VirtualHost *:80>
  ServerName localhost.localdomain
  RailsEnv ${RAILS_ENV}
  DocumentRoot /var/rails_app/public

  <Directory /var/rails_app/public>
    # Relax Apache security settings
    AllowOverride all
    # MultiViews must be turned off
    Options -MultiViews
    # Uncomment this if you're on Apache >= 2.4:
    Require all granted
  </Directory>
</VirtualHost>

# passenger-install-apache2-module --snippet
LoadModule passenger_module /usr/local/lib/ruby/gems/2.4.0/gems/passenger-5.3.2/buildout/apache2/mod_passenger.so
<IfModule mod_passenger.c>
  PassengerRoot /usr/local/lib/ruby/gems/2.4.0/gems/passenger-5.3.2
  PassengerDefaultRuby /usr/local/bin/ruby

  # railsdevでPassengerを実行
  PassengerUserSwitching off
  PassengerDefaultUser railsdev

  # 初回起動の遅延防止
  PassengerPreStart http://localhost:80
</IfModule>

# Passengerが追加するHTTPヘッダを削除するための設定。
Header always unset "X-Powered-By"
Header always unset "X-Rack-Cache"
Header always unset "X-Content-Digest"
Header always unset "X-Runtime"